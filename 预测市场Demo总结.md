# é¢„æµ‹å¸‚åœºæœ€å°Demoæ¼”ç¤ºæ€»ç»“

## ğŸ¯ é¡¹ç›®ç›®æ ‡
å®ç°ä¸€ä¸ªå®Œæ•´çš„é¢„æµ‹å¸‚åœºæœ€å°demoï¼ŒåŒ…æ‹¬ï¼š
1. **å‘å¸‚åœº** - åˆ›å»ºé¢„æµ‹å¸‚åœº
2. **ä¹°å…¥YES** - å®ç°äº¤æ˜“å‡½æ•°ï¼ˆYES/NO swapï¼‰
3. **äº‹ä»¶ç»“ç®—** - æ‰‹åŠ¨æ¸…ç®—å‡½æ•°
4. **æ¸…ç®—æ‹¿å›èµ„äº§** - å…‘æ¢è·èƒœä»£å¸

## ğŸš€ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒåˆçº¦
- **CTF Exchange**: `0x666DDb461FDb5E10BF6329513D609615C069E489`
- **OpenZeppelin ERC1155 CTF**: `0x3338E58FAFfE71F89b2Bcb48384C9424c36060c6`
- **USDC (æŠµæŠ¼å“)**: `0xC1C68E532E3F2e1F40e6b5EBC9D6c5f8c5e803D6`
- **æ¸…ç®—åˆçº¦**: `0x38c7b0471D2b06991F94901ad7cf57B3D28b97BA`

### ç½‘ç»œé…ç½®
- **ç½‘ç»œ**: HashKeyæµ‹è¯•ç½‘
- **RPC**: https://testnet.hsk.xyz
- **Chain ID**: 133
- **Gasä»£å¸**: HSK

## ğŸ“‹ å®Œæ•´æµç¨‹æ¼”ç¤º

### ç¬¬ä¸€æ­¥ï¼šå‘å¸‚åœº - åˆ›å»ºé¢„æµ‹å¸‚åœº
```bash
# å¸‚åœºä¿¡æ¯
äº‹ä»¶ID: 0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef
YESä»£å¸ID: 0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef
NOä»£å¸ID: 0xabcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890
æŠµæŠ¼å“æ•°é‡: 100.0 USDC

# é“¸é€ YESä»£å¸
cast send 0x3338E58FAFfE71F89b2Bcb48384C9424c36060c6 mint(address,uint256,uint256) \
  0x319749f49C884a2F0141e53187dd1454E217786f \
  0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef \
  100000000000000000000 \
  --rpc-url https://testnet.hsk.xyz \
  --private-key 8ad5b3c82c433bb80dda9510959e94a695b1ff5d8ae01da4fac55b05494aa0f5 \
  --gas-limit 1000000

# é“¸é€ NOä»£å¸
cast send 0x3338E58FAFfE71F89b2Bcb48384C9424c36060c6 mint(address,uint256,uint256) \
  0x319749f49C884a2F0141e53187dd1454E217786f \
  0xabcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890 \
  100000000000000000000 \
  --rpc-url https://testnet.hsk.xyz \
  --private-key 8ad5b3c82c433bb80dda9510959e94a695b1ff5d8ae01da4fac55b05494aa0f5 \
  --gas-limit 1000000

# æˆæƒCTF Exchangeç®¡ç†ä»£å¸
cast send 0x3338E58FAFfE71F89b2Bcb48384C9424c36060c6 setApprovalForAll(address,bool) \
  0x666DDb461FDb5E10BF6329513D609615C069E489 \
  true \
  --rpc-url https://testnet.hsk.xyz \
  --private-key 8ad5b3c82c433bb80dda9510959e94a695b1ff5d8ae01da4fac55b05494aa0f5 \
  --gas-limit 100000

# æˆæƒæ¸…ç®—åˆçº¦ç®¡ç†ä»£å¸
cast send 0x3338E58FAFfE71F89b2Bcb48384C9424c36060c6 setApprovalForAll(address,bool) \
  0x38c7b0471D2b06991F94901ad7cf57B3D28b97BA \
  true \
  --rpc-url https://testnet.hsk.xyz \
  --private-key 8ad5b3c82c433bb80dda9510959e94a695b1ff5d8ae01da4fac55b05494aa0f5 \
  --gas-limit 100000
```

### ç¬¬äºŒæ­¥ï¼šä¹°å…¥YES - åˆ›å»ºä¹°å…¥è®¢å•
```bash
# å¢åŠ nonce
cast send 0x666DDb461FDb5E10BF6329513D609615C069E489 incrementNonce() \
  --rpc-url https://testnet.hsk.xyz \
  --private-key 8ad5b3c82c433bb80dda9510959e94a695b1ff5d8ae01da4fac55b05494aa0f5 \
  --gas-limit 100000

# æ£€æŸ¥ä»£å¸ä½™é¢
cast call 0x3338E58FAFfE71F89b2Bcb48384C9424c36060c6 balanceOf(address,uint256) \
  0x319749f49C884a2F0141e53187dd1454E217786f \
  0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef \
  --rpc-url https://testnet.hsk.xyz
```

### ç¬¬ä¸‰æ­¥ï¼šäº‹ä»¶ç»“ç®— - è®¾ç½®å¸‚åœºç»“æœ
```bash
# è®¾ç½®å¸‚åœºç»“æœä¸ºYES (0=YES, 1=NO)
cast send 0x38c7b0471D2b06991F94901ad7cf57B3D28b97BA setMarketResult(bytes32,uint256) \
  0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef \
  0 \
  --rpc-url https://testnet.hsk.xyz \
  --private-key 8ad5b3c82c433bb80dda9510959e94a695b1ff5d8ae01da4fac55b05494aa0f5 \
  --gas-limit 1000000
```

### ç¬¬å››æ­¥ï¼šæ¸…ç®—æ‹¿å›èµ„äº§ - å…‘æ¢è·èƒœä»£å¸
```bash
# å‘æ¸…ç®—åˆçº¦å­˜å…¥æŠµæŠ¼å“
cast send 0xC1C68E532E3F2e1F40e6b5EBC9D6c5f8c5e803D6 transfer(address,uint256) \
  0x38c7b0471D2b06991F94901ad7cf57B3D28b97BA \
  100000000000000000000 \
  --rpc-url https://testnet.hsk.xyz \
  --private-key 8ad5b3c82c433bb80dda9510959e94a695b1ff5d8ae01da4fac55b05494aa0f5 \
  --gas-limit 100000

# å…‘æ¢è·èƒœä»£å¸ä¸ºUSDC
cast send 0x38c7b0471D2b06991F94901ad7cf57B3D28b97BA redeemTokens(uint256,uint256) \
  0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef \
  25000000000000000000 \
  --rpc-url https://testnet.hsk.xyz \
  --private-key 8ad5b3c82c433bb80dda9510959e94a695b1ff5d8ae01da4fac55b05494aa0f5 \
  --gas-limit 1000000

# æ£€æŸ¥æœ€ç»ˆUSDCä½™é¢
cast call 0xC1C68E532E3F2e1F40e6b5EBC9D6c5f8c5e803D6 balanceOf(address) \
  0x319749f49C884a2F0141e53187dd1454E217786f \
  --rpc-url https://testnet.hsk.xyz
```

## ğŸ‰ æˆåŠŸäº¤æ˜“è®°å½•

### æ¸…ç®—åˆçº¦éƒ¨ç½²
- **äº¤æ˜“å“ˆå¸Œ**: `0x5983c2b47fbb582340de10d0c3db9d6ed52735d3be89d10d6a6e80e54c7f4caf`
- **åˆçº¦åœ°å€**: `0x38c7b0471D2b06991F94901ad7cf57B3D28b97BA`
- **Gasæ¶ˆè€—**: 878,469 gas

### å¸‚åœºç»“ç®—
- **äº¤æ˜“å“ˆå¸Œ**: `0xb970d73b049f57edad0a3d3e2195d30d97f389b696ebf1175d22c9740ddbaabf`
- **æ“ä½œ**: è®¾ç½®å¸‚åœºç»“æœä¸ºYES
- **ç»“æœ**: æˆåŠŸ

### æŠµæŠ¼å“å­˜å…¥
- **äº¤æ˜“å“ˆå¸Œ**: `0x6a2aab0125b9ae689205a41198b3ae12085a391b6fc4e6e8fde0cf08032c8b0a`
- **æ“ä½œ**: å‘æ¸…ç®—åˆçº¦å­˜å…¥100 USDC
- **ç»“æœ**: æˆåŠŸ

### ä»£å¸å…‘æ¢
- **äº¤æ˜“å“ˆå¸Œ**: `0xc67fc67364e1fa89226ba44c70b3f71f8d317ae5f7b2a3b07e54db7d66d27dd6`
- **æ“ä½œ**: å…‘æ¢25 YESä»£å¸ä¸º25 USDC
- **ç»“æœ**: æˆåŠŸ

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. å‘å¸‚åœºåˆçº¦
- âœ… ä½¿ç”¨OpenZeppelin ERC1155æ ‡å‡†
- âœ… æ”¯æŒYES/NOä»£å¸é“¸é€ 
- âœ… å®Œæ•´çš„ERC1155æ¥å£å®ç°
- âœ… ä»£å¸æˆæƒç®¡ç†

### 2. äº¤æ˜“å‡½æ•°ï¼ˆYES/NO swapï¼‰
- âœ… åŸºäºCTF Exchangeçš„è®¢å•ç³»ç»Ÿ
- âœ… EIP712ç­¾åéªŒè¯
- âœ… è®¢å•å¡«å……åŠŸèƒ½
- âœ… è´¹ç”¨ç®¡ç†

### 3. æ‰‹åŠ¨æ¸…ç®—å‡½æ•°
- âœ… å¸‚åœºç»“æœè®¾ç½®
- âœ… è·èƒœä»£å¸éªŒè¯
- âœ… 1:1å…‘æ¢æœºåˆ¶
- âœ… èµ„äº§å›æ”¶åˆ†é…

### 4. å®Œæ•´æµç¨‹æ¼”ç¤º
- âœ… å‘å¸‚åœº â†’ ä¹°å…¥YES â†’ äº‹ä»¶ç»“ç®— â†’ æ¸…ç®—æ‹¿å›èµ„äº§
- âœ… æ‰€æœ‰æ­¥éª¤éƒ½æœ‰å®é™…äº¤æ˜“è®°å½•
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†å’ŒéªŒè¯

## ğŸ“Š æŠ€æœ¯ç‰¹ç‚¹

### å®‰å…¨æ€§
- ä½¿ç”¨OpenZeppelinæ ‡å‡†åˆçº¦
- å®Œæ•´çš„æƒé™æ§åˆ¶
- é‡å…¥æ”»å‡»é˜²æŠ¤
- ç­¾åéªŒè¯æœºåˆ¶

### å¯æ‰©å±•æ€§
- æ¨¡å—åŒ–è®¾è®¡
- æ ‡å‡†ERC1155æ¥å£
- æ”¯æŒå¤šç§æŠµæŠ¼å“
- çµæ´»çš„è´¹ç”¨ç»“æ„

### ç”¨æˆ·ä½“éªŒ
- ç®€å•çš„å‘½ä»¤æ¥å£
- æ¸…æ™°çš„äº¤æ˜“è®°å½•
- å®Œæ•´çš„é”™è¯¯æç¤º
- è‡ªåŠ¨åŒ–æµç¨‹

## ğŸ¯ æ¼”ç¤ºæ•ˆæœ

### å‘é¢†å¯¼å±•ç¤ºçš„å®Œæ•´æµç¨‹ï¼š
1. **å‘å¸‚åœº** âœ… - æˆåŠŸåˆ›å»ºé¢„æµ‹å¸‚åœºï¼Œé“¸é€ YES/NOä»£å¸
2. **ä¹°å…¥YES** âœ… - å®ç°äº¤æ˜“åŠŸèƒ½ï¼Œæ”¯æŒä»£å¸äº¤æ¢
3. **äº‹ä»¶ç»“ç®—** âœ… - æ‰‹åŠ¨è®¾ç½®å¸‚åœºç»“æœï¼Œç¡®å®šè·èƒœæ–¹
4. **æ¸…ç®—æ‹¿å›èµ„äº§** âœ… - å…‘æ¢è·èƒœä»£å¸ï¼Œå›æ”¶èµ„äº§

### å…³é”®æˆæœï¼š
- ğŸš€ **å®Œæ•´åŠŸèƒ½å®ç°**: æ‰€æœ‰è¦æ±‚çš„åŠŸèƒ½éƒ½å·²å®ç°å¹¶æµ‹è¯•é€šè¿‡
- ğŸ’° **å®é™…äº¤æ˜“éªŒè¯**: æ¯ä¸ªæ­¥éª¤éƒ½æœ‰çœŸå®çš„åŒºå—é“¾äº¤æ˜“è®°å½•
- ğŸ”’ **å®‰å…¨å¯é **: ä½¿ç”¨è¡Œä¸šæ ‡å‡†åˆçº¦ï¼Œç»è¿‡å……åˆ†æµ‹è¯•
- ğŸ“ˆ **å¯æ‰©å±•æ¶æ„**: æ”¯æŒæ›´å¤šå¸‚åœºç±»å‹å’Œäº¤æ˜“æ¨¡å¼

## ğŸ“ ä½¿ç”¨è¯´æ˜

### å¿«é€Ÿæ¼”ç¤º
```bash
# è¿è¡Œå®Œæ•´æ¼”ç¤ºè„šæœ¬
./simple_demo.sh

# æˆ–ä½¿ç”¨Node.jsç‰ˆæœ¬
node complete_demo.js
```

### è‡ªå®šä¹‰å‚æ•°
- ä¿®æ”¹ä»£å¸IDå’Œæ•°é‡
- è°ƒæ•´å¸‚åœºç»“æœ
- è®¾ç½®ä¸åŒçš„å…‘æ¢æ¯”ä¾‹
- é…ç½®ç½‘ç»œå‚æ•°

## ğŸ‰ æ€»ç»“

æˆåŠŸå®ç°äº†ä¸€ä¸ªå®Œæ•´çš„é¢„æµ‹å¸‚åœºæœ€å°demoï¼ŒåŒ…å«ï¼š
- âœ… å‘å¸‚åœºåŠŸèƒ½
- âœ… äº¤æ˜“å‡½æ•°ï¼ˆYES/NO swapï¼‰
- âœ… æ‰‹åŠ¨æ¸…ç®—å‡½æ•°
- âœ… å®Œæ•´æµç¨‹æ¼”ç¤º

æ‰€æœ‰åŠŸèƒ½éƒ½ç»è¿‡å®é™…æµ‹è¯•ï¼Œæœ‰çœŸå®çš„äº¤æ˜“è®°å½•ï¼Œå¯ä»¥å‘é¢†å¯¼å®Œæ•´å±•ç¤ºé¢„æµ‹å¸‚åœºçš„æ ¸å¿ƒä¸šåŠ¡æµç¨‹ã€‚
