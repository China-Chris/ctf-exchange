# é¢„æµ‹å¸‚åœºäº¤äº’å¼Demoä½¿ç”¨è¯´æ˜

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨å®Œæ•´Demo
```bash
./start_full_demo.sh
```

### 2. é€‰æ‹©æ¼”ç¤ºæ¨¡å¼
- **äº¤äº’å¼æ¼”ç¤º (æ¨è)**: å¯ä»¥ä¸€æ­¥æ­¥ç‚¹å‡»æ“ä½œï¼Œæ”¯æŒçœŸå®USDCé¢†å–
- **é™æ€å±•ç¤º**: æŸ¥çœ‹å®Œæ•´æµç¨‹å’Œäº¤æ˜“è®°å½•

### 3. è®¿é—®ç½‘é¡µ
- äº¤äº’å¼æ¼”ç¤º: http://localhost:8000/interactive_demo.html
- é™æ€å±•ç¤º: http://localhost:8000/index.html

## ğŸ’° USDCé¢†å–åŠŸèƒ½

### åŠŸèƒ½è¯´æ˜
- ç”¨æˆ·å¯ä»¥è¾“å…¥è‡ªå·±çš„é’±åŒ…åœ°å€é¢†å–1000ä¸ªæµ‹è¯•USDC
- ä½¿ç”¨çœŸå®çš„æ™ºèƒ½åˆçº¦äº¤äº’ (USDCåœ°å€: 0xC1C68E532E3F2e1F40e6b5EBC9D6c5f8c5e803D6)
- æ”¯æŒåœ°å€éªŒè¯å’Œä½™é¢æ£€æŸ¥
- USDCä½¿ç”¨6ä½å°æ•°ï¼Œ1000 USDC = 1000 * 10^6

### ä½¿ç”¨æ–¹æ³•
1. åœ¨ç½‘é¡µä¸­è¾“å…¥æ‚¨çš„é’±åŒ…åœ°å€ (0x...)
2. ç‚¹å‡»"é¢†å–1000 USDC"æŒ‰é’®
3. ç­‰å¾…äº¤æ˜“ç¡®è®¤
4. æŸ¥çœ‹äº¤æ˜“è®°å½•å’Œä½™é¢æ›´æ–°

### å‘½ä»¤è¡Œä½¿ç”¨
```bash
# é¢†å–USDCåˆ°æŒ‡å®šåœ°å€
node claim_usdc.js 0x319749f49C884a2F0141e53187dd1454E217786f

# æ£€æŸ¥åœ°å€ä½™é¢
node -e "
const USDCClaimer = require('./claim_usdc.js');
const claimer = new USDCClaimer();
claimer.checkBalance('0x319749f49C884a2F0141e53187dd1454E217786f').then(console.log);
"
```

## ğŸ¯ çœŸå®é“¾ä¸Šåˆçº¦äº¤äº’å¼æ¼”ç¤ºæµç¨‹

> **é‡è¦è¯´æ˜**: æœ¬æ¼”ç¤ºä½¿ç”¨çœŸå®çš„HashKeyæµ‹è¯•ç½‘æ™ºèƒ½åˆçº¦ï¼Œæ‰€æœ‰æ“ä½œéƒ½ä¼šäº§ç”ŸçœŸå®çš„äº¤æ˜“å“ˆå¸Œå’Œé“¾ä¸Šè®°å½•ï¼

### ç¬¬ä¸€æ­¥ï¼šå‘å¸‚åœº - åˆ›å»ºé¢„æµ‹å¸‚åœº
1. **é¢†å–USDC**: è¾“å…¥é’±åŒ…åœ°å€ï¼Œç‚¹å‡»é¢†å–1000 USDC
   - ğŸ” å¯ä»¥ç‚¹å‡»"æŸ¥çœ‹ä½™é¢"æŒ‰é’®æŸ¥è¯¢åœ°å€çš„USDCä½™é¢
2. **è¾“å…¥å¸‚åœºé—®é¢˜**: è¾“å…¥é¢„æµ‹å¸‚åœºé—®é¢˜ (å¦‚ï¼šæ˜å¤©ä¼šä¸‹é›¨å—ï¼Ÿ)
3. **åˆ›å»ºå¸‚åœº**: ç‚¹å‡»"åˆ›å»ºé¢„æµ‹å¸‚åœº"æŒ‰é’®
4. **è‡ªåŠ¨å¤„ç†**: ç®¡ç†å‘˜è‡ªåŠ¨åˆ›å»ºYES/NOä»£å¸å„1000ä¸ªï¼Œå­˜å…¥2000 USDCæŠµæŠ¼å“
   - âœ… çœŸå®çš„USDCè½¬è´¦åˆ°CTFåˆçº¦
   - âœ… çœŸå®çš„ä»£å¸é“¸é€ äº¤æ˜“
   - âœ… çœŸå®çš„ä»£å¸æ³¨å†Œåˆ°Exchange
   - âœ… åˆçº¦ä¸­æŠµæŠ¼USDCä½™é¢: 2000 USDC
5. **æˆæƒåˆçº¦**: ç‚¹å‡»"æˆæƒåˆçº¦ç®¡ç†ä»£å¸"æŒ‰é’®

### ç¬¬äºŒæ­¥ï¼šä¹°å…¥YES - åˆ›å»ºä¹°å…¥è®¢å•
1. **åˆ›å»ºè®¢å•**: ç‚¹å‡»"åˆ›å»ºä¹°å…¥è®¢å•"æŒ‰é’®
2. **ç­¾åè®¢å•**: ç‚¹å‡»"ç­¾åè®¢å•"æŒ‰é’®
3. **æ‰§è¡Œè®¢å•**: ç‚¹å‡»"æ‰§è¡Œè®¢å•"æŒ‰é’®

### ç¬¬ä¸‰æ­¥ï¼šäº‹ä»¶ç»“ç®— - è®¾ç½®å¸‚åœºç»“æœ
1. **é€‰æ‹©ç»“æœ**: ç‚¹å‡»"è®¾ç½®YESè·èƒœ"æˆ–"è®¾ç½®NOè·èƒœ"

### ç¬¬å››æ­¥ï¼šæ¸…ç®—æ‹¿å›èµ„äº§ - å…‘æ¢è·èƒœä»£å¸
1. **å­˜å…¥æŠµæŠ¼å“**: ç‚¹å‡»"å­˜å…¥æŠµæŠ¼å“"æŒ‰é’®
2. **å…‘æ¢ä»£å¸**: ç‚¹å‡»"å…‘æ¢è·èƒœä»£å¸"æŒ‰é’®
3. **æ£€æŸ¥ä½™é¢**: ç‚¹å‡»"æ£€æŸ¥æœ€ç»ˆä½™é¢"æŒ‰é’®

## ğŸ”§ æŠ€æœ¯æ¶æ„

### å‰ç«¯
- **HTML/CSS/JavaScript**: äº¤äº’å¼ç•Œé¢
- **å“åº”å¼è®¾è®¡**: æ”¯æŒç§»åŠ¨ç«¯
- **å®æ—¶æ›´æ–°**: ä½™é¢å’ŒçŠ¶æ€å®æ—¶æ˜¾ç¤º

### åç«¯
- **Express.js**: APIæœåŠ¡å™¨
- **ethers.js**: åŒºå—é“¾äº¤äº’
- **CORS**: è·¨åŸŸæ”¯æŒ

### æ™ºèƒ½åˆçº¦
- **CTF Exchange**: 0x666DDb461FDb5E10BF6329513D609615C069E489
- **OpenZeppelin ERC1155 CTF**: 0x3338E58FAFfE71F89b2Bcb48384C9424c36060c6
- **USDC (æŠµæŠ¼å“)**: 0xC1C68E532E3F2e1F40e6b5EBC9D6c5f8c5e803D6
- **æ¸…ç®—åˆçº¦**: 0x38c7b0471D2b06991F94901ad7cf57B3D28b97BA

### ç½‘ç»œé…ç½®
- **ç½‘ç»œ**: HashKeyæµ‹è¯•ç½‘
- **RPC**: https://testnet.hsk.xyz
- **Chain ID**: 133
- **Gasä»£å¸**: HSK

## ğŸ“± APIæ¥å£

### æŸ¥çœ‹USDCä½™é¢
```bash
GET http://localhost:3001/api/balance/0x319749f49C884a2F0141e53187dd1454E217786f

# å“åº”
{
  "success": true,
  "address": "0x319749f49C884a2F0141e53187dd1454E217786f",
  "balance": "990900.0"
}
```

### è·å–æ‰€æœ‰å¸‚åœº
```bash
GET http://localhost:3001/api/markets

# å“åº”
{
  "success": true,
  "markets": [
    {
      "id": "0x62092ce50d4ed31ec4bd3e455ff5f937f47b01d2428f2e1c4e2dd57e65006e97",
      "question": "æµ‹è¯•å¸‚åœºä¿å­˜åŠŸèƒ½",
      "conditionId": "0x62092ce50d4ed31ec4bd3e455ff5f937f47b01d2428f2e1c4e2dd57e65006e97",
      "yesTokenId": "0x62092ce50d4ed31ec4bd3e455ff5f937f47b01d2428f2e1c4e2dd57e65006e97",
      "noTokenId": "0xea88d183b733a24ae2f260d013203621373ef64bd413e9cb3b971b90cf237299",
      "transactions": {
        "usdcTransfer": "0x4c99eee46465e974c8288ee2a9da124dcbfceba50324433574a9f9cbba2db38b",
        "mintYes": "0x7a716394ede4653b396a9e1158ea2bf6b118ba6ed280bc8a79944bcf48c53f74",
        "mintNo": "0x179740fdf5413245bfa9a9f807764555fcc4703ad495ba4016b6f61e3b575d53",
        "register": "0xfc6ffd31cff3fe4f5ddbd92fda688153bf6ba5b127dbd70c305d3de6691ab14f"
      },
      "balances": {
        "yes": "1000.0",
        "no": "1000.0"
      },
      "createdAt": "2025-09-24T08:14:48.797Z",
      "status": "active"
    }
  ],
  "total": 1
}
```

### è·å–ç‰¹å®šå¸‚åœº
```bash
GET http://localhost:3001/api/markets/0x62092ce50d4ed31ec4bd3e455ff5f937f47b01d2428f2e1c4e2dd57e65006e97

# å“åº”
{
  "success": true,
  "market": {
    "id": "0x62092ce50d4ed31ec4bd3e455ff5f937f47b01d2428f2e1c4e2dd57e65006e97",
    "question": "æµ‹è¯•å¸‚åœºä¿å­˜åŠŸèƒ½",
    "conditionId": "0x62092ce50d4ed31ec4bd3e455ff5f937f47b01d2428f2e1c4e2dd57e65006e97",
    "yesTokenId": "0x62092ce50d4ed31ec4bd3e455ff5f937f47b01d2428f2e1c4e2dd57e65006e97",
    "noTokenId": "0xea88d183b733a24ae2f260d013203621373ef64bd413e9cb3b971b90cf237299",
    "transactions": {
      "usdcTransfer": "0x4c99eee46465e974c8288ee2a9da124dcbfceba50324433574a9f9cbba2db38b",
      "mintYes": "0x7a716394ede4653b396a9e1158ea2bf6b118ba6ed280bc8a79944bcf48c53f74",
      "mintNo": "0x179740fdf5413245bfa9a9f807764555fcc4703ad495ba4016b6f61e3b575d53",
      "register": "0xfc6ffd31cff3fe4f5ddbd92fda688153bf6ba5b127dbd70c305d3de6691ab14f"
    },
    "balances": {
      "yes": "1000.0",
      "no": "1000.0"
    },
    "createdAt": "2025-09-24T08:14:48.797Z",
    "status": "active"
  }
}
```

### é¢†å–USDC
```bash
POST http://localhost:3001/api/claim-usdc
Content-Type: application/json

{
  "address": "0x319749f49C884a2F0141e53187dd1454E217786f"
}
```

### æ£€æŸ¥ä½™é¢
```bash
GET http://localhost:3001/api/balance/0x319749f49C884a2F0141e53187dd1454E217786f
```

### å¥åº·æ£€æŸ¥
```bash
GET http://localhost:3001/api/health
```

## ğŸ‰ æ¼”ç¤ºæ•ˆæœ

### å‘é¢†å¯¼å±•ç¤ºçš„ä¼˜åŠ¿
1. **çœŸå®äº¤äº’**: ä¸€æ­¥æ­¥ç‚¹å‡»æ“ä½œï¼Œå°±åƒçœŸå®ä½¿ç”¨ä¸€æ ·
2. **å®æ—¶åé¦ˆ**: ä½™é¢å˜åŒ–ã€è¿›åº¦æ¡ã€åŠ¨ç”»æ•ˆæœ
3. **å®Œæ•´æµç¨‹**: ä»å‘å¸‚åœºåˆ°æ¸…ç®—çš„å®Œæ•´æ¼”ç¤º
4. **æŠ€æœ¯å±•ç¤º**: çœŸå®çš„æ™ºèƒ½åˆçº¦äº¤äº’å’Œäº¤æ˜“è®°å½•
5. **ä¸“ä¸šç•Œé¢**: ç°ä»£åŒ–çš„UIè®¾è®¡

### æ¼”ç¤ºè¦ç‚¹
- å±•ç¤ºå®Œæ•´çš„é¢„æµ‹å¸‚åœºä¸šåŠ¡æµç¨‹
- æ¼”ç¤ºçœŸå®çš„USDCé¢†å–åŠŸèƒ½
- å±•ç¤ºå¸‚åœºåˆ›å»ºå’Œä»£å¸è‡ªåŠ¨é“¸é€ 
- å±•ç¤ºæ™ºèƒ½åˆçº¦çš„äº¤äº’èƒ½åŠ›
- å±•ç¤ºç”¨æˆ·å‹å¥½çš„ç•Œé¢è®¾è®¡

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **USDCé¢†å–å¤±è´¥**: æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œåœ°å€æ ¼å¼
2. **APIè¿æ¥å¤±è´¥**: ç¡®ä¿APIæœåŠ¡å™¨æ­£åœ¨è¿è¡Œ
3. **äº¤æ˜“å¤±è´¥**: æ£€æŸ¥Gasè´¹ç”¨å’Œç½‘ç»œçŠ¶æ€

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹APIæœåŠ¡å™¨æ—¥å¿—
tail -f usdc_api.log

# æŸ¥çœ‹äº¤æ˜“è®°å½•
cat transaction_log.json
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
2. ä¾èµ–åŒ…æ˜¯å¦å®‰è£…å®Œæ•´
3. æ™ºèƒ½åˆçº¦åœ°å€æ˜¯å¦æ­£ç¡®
4. é’±åŒ…åœ°å€æ ¼å¼æ˜¯å¦æ­£ç¡®

---

**æ³¨æ„**: è¿™æ˜¯æµ‹è¯•ç½‘ç¯å¢ƒï¼Œæ‰€æœ‰ä»£å¸éƒ½æ˜¯æµ‹è¯•ä»£å¸ï¼Œä»…ç”¨äºæ¼”ç¤ºç›®çš„ã€‚
